---
import Card from "../ui/Card.astro";
import { getBackgroundClasses } from "../../utils/theme";

export interface CardData {
    title: string;
    description: string;
    icon?: string;
    tags?: string[];
    metadata?: { label: string; value: string }[];
}

export interface Props {
    title?: string;
    description?: string;
    cards: CardData[];
    background?:
        | "primary"
        | "secondary"
        | "tertiary"
        | "accent"
        | "dark"
        | "light";
    columns?: 1 | 2 | 3;
    className?: string;
}

const {
    title,
    description,
    cards,
    background = "primary",
    columns = 3,
    className = "",
} = Astro.props;

const bgClasses = getBackgroundClasses(background);
const gridCols = {
    1: "grid-cols-1",
    2: "md:grid-cols-2",
    3: "md:grid-cols-2 lg:grid-cols-3",
}[columns];
---

<section class={`${bgClasses} px-4 py-24 md:px-8 lg:px-16 ${className}`}>
    <div class="mx-auto max-w-6xl">
        {
            (title || description) && (
                <div class="text-center mb-16">
                    {title && (
                        <h2 class="mb-8 text-4xl font-bold text-white md:text-5xl">
                            {title}
                        </h2>
                    )}
                    {description && (
                        <p class="text-lg text-white/90 max-w-3xl mx-auto">
                            {description}
                        </p>
                    )}
                </div>
            )
        }

        <div class={`grid gap-10 ${gridCols}`}>
            {
                cards.map((card) => (
                    <Card
                        title={card.title}
                        description={card.description}
                        icon={card.icon}
                        tags={card.tags}
                        metadata={card.metadata}
                    />
                ))
            }
        </div>
    </div>
</section>
