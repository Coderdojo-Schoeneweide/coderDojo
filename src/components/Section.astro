---
// Universal Section Component
// Handles ALL section types and styling variations
import type { SiteContent } from "../content";

interface Props {
    section: SiteContent["pages"]["homepage"]["sections"][0];
}

const { section } = Astro.props;
---

<section
    class={`py-20 ${
        section.background === "dark"
            ? "bg-accent-900 dark:bg-gray-800 text-white"
            : section.background === "accent"
              ? "bg-secondary-500 dark:bg-orange-700 text-white"
              : section.id === "mentoring"
                ? "bg-secondary-500 dark:bg-orange-700 text-white"
                : "bg-white dark:bg-gray-900 text-accent-900 dark:text-gray-100"
    }`}
>
    <div class="container mx-auto px-6">
        <div
            class={`grid gap-16 ${section.imagePosition ? "lg:grid-cols-2 lg:items-center" : ""}`}
        >
            <!-- Content Column -->
            <div class={section.imagePosition === "right" ? "lg:order-1" : ""}>
                <h2 class="text-4xl font-bold mb-8">
                    {section.title}
                </h2>

                <div class="space-y-6">
                    {
                        section.content.map((paragraph) => (
                            <div class="text-lg" set:html={paragraph} />
                        ))
                    }
                </div>

                {
                    section.buttons && (
                        <div class="flex flex-wrap gap-4 mt-8">
                            {section.buttons.map((button) => (
                                <a
                                    href={button.url}
                                    target={
                                        button.external ? "_blank" : "_self"
                                    }
                                    class={`px-6 py-3 rounded-lg font-semibold transition-colors ${
                                        button.style === "primary"
                                            ? "bg-primary-600 text-white hover:bg-primary-700"
                                            : button.style === "secondary"
                                              ? "bg-accent-600 text-white hover:bg-accent-700"
                                              : "border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-400 dark:hover:text-slate-900"
                                    }`}
                                >
                                    {button.text}
                                </a>
                            ))}
                        </div>
                    )
                }
            </div>

            <!-- Image Column (if needed) -->
            {
                section.imagePosition && (
                    <div
                        class={
                            section.imagePosition === "left" ? "lg:order-1" : ""
                        }
                    >
                        <div class="bg-slate-200 dark:bg-slate-700 rounded-lg h-64 flex items-center justify-center">
                            <span class="text-slate-500 dark:text-slate-400">
                                Section Image
                            </span>
                        </div>
                    </div>
                )
            }
        </div>
    </div>
</section>
